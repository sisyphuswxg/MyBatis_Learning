



### 会话工厂和会话


在准备好数据库配置文件SqlMapConfig.xml和SQL配置文件Mapper.xml后，需要相关的程序来读取并加载这些配置文件的信息。

在MyBatis中，会话工厂即是SqlSessionFactory类。

SqlSessionFactory类会根据Resource资源信息加载对象，获取开发人员在项目中配置的数据库连接池配置文件SqlMapConfig.xml的信息;

SqlSessionFactory根据数据库配置信息产生出可以连接数据库并与其交互的SqlSession会话实例类。



- `src/main/java/com/sisyphuswxg/mybatis/datasource/DataConnection.java`
```java
public class DataConnection {

    private String resource = "SqlMapConfig.xml";
    private SqlSessionFactory sqlSessionFactory;
    private SqlSession sqlSession;

    public SqlSession getSqlSession() throws IOException {
        InputStream inputStream = Resources.getResourceAsStream(resource);
        sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);
        sqlSession = sqlSessionFactory.openSession();
        return sqlSession;
    }

}
```